# docker build -t roandocker/ticket-manager:0.0.1 Dockerfile .

FROM golang:stretch as builder

WORKDIR /opt/app/

RUN apt updete \
	apt-get install git && \
	git clone https://github.com/codeandcode0x/istioAlltime.git && \
    CGO_ENABLED=0 GOOS=linux go build -o ticket-backend istioAlltime/projects/golang/ticking-manager/main.go


FROM ubuntu:16.04 as prod

WORKDIR /root/

COPY --from=0 /opt/app/ticket-backend .

CMD ["./ticket-backend"]